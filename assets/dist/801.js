"use strict";(self.webpackChunkTheme_One=self.webpackChunkTheme_One||[]).push([[801],{801:(e,s,r)=>{r.r(s),r.d(s,{salla_offer:()=>t});var o=r(302);const t=class{constructor(e){(0,o.r)(this,e),this.offer=null,salla.offer.event.onExisted((e=>{salla.localStore.get("remember-offer-"+e.offer.offer_id)?salla.log("User selected to don't show this offer again."):this.show(e.product_id)}))}async show(e){this.modal.show().then((()=>salla.api.offer.details(e))).then((e=>this.offer=e.data[0])).then((()=>console.log(this.offer)))}rememberMe(e){salla.localStore.set("remember-offer-"+this.offer.id,e.target.checked)}render(){var e,s;return(0,o.h)("salla-modal",{ref:e=>this.modal=e,"is-loading":null===this.offer},null!==this.offer?[(0,o.h)("div",{class:"s-offer-header"},(0,o.h)("b",{class:"s-offer-title"},this.offer.name),(0,o.h)("h3",{class:"s-offer-subtitle"},this.offer.message)),(0,o.h)("div",{class:"s-offer-body"},(null===(e=this.offer.get.categories)||void 0===e?void 0:e.length)>0?this.offer.get.categories.map((e=>(0,o.h)("a",{href:e.urls.customer,class:"s-offer-badge"},(0,o.h)("i",{class:"s-offer-badge-icon sicon-tag"}),(0,o.h)("span",{class:"s-offer-badge-text"},e.name)))):null===(s=this.offer.get.products)||void 0===s?void 0:s.map((e=>(0,o.h)("div",{class:"s-offer-product"},"- ",e.name)))),(0,o.h)("div",{class:"s-offer-footer"},this.offer.expiry_date?(0,o.h)("p",{class:"s-offer-expiry"},salla.lang.get("pages.products.offer_expires_in")," ",this.offer.expiry_date):"",(0,o.h)("label",{class:"s-offer-remember-label"},(0,o.h)("input",{type:"checkbox",onChange:e=>this.rememberMe(e),class:"s-offer-remember-input"}),"Â  ",salla.lang.get("common.remember_my_choice")))]:"")}componentDidRender(){this.modal.querySelectorAll("[hidden]").forEach((e=>e.removeAttribute("hidden")))}get host(){return(0,o.g)(this)}}}}]);