"use strict";(self.webpackChunkTheme_One=self.webpackChunkTheme_One||[]).push([[839],{3698:(e,a,l)=>{l.d(a,{H:()=>t});class s extends salla.AppHelpers{setHost(e){this.host=e}getElement(e){return this.host.querySelector(e)}getAttribute(e,a){var l;return null===(l=this.getElement(e))||void 0===l?void 0:l.getAttribute(a)}val(e){return this.getAttribute(e,"value")}}const t=new s},9839:(e,a,l)=>{l.r(a),l.d(a,{salla_localization:()=>n});var s=l(7502),t=l(3698);const n=class{constructor(e){(0,s.r)(this,e),t.H.setHost(this.host),salla.event.on("localization::show",(()=>this.show()))}async show(){return this.modal.show()}async hide(){return this.modal.hide()}setCurrentLanguage(e){this.language=e}setCurrentCurrency(e){this.currency=e}async submit(){let e;this.btn.load().then((()=>{if(this.currency&&this.currency.code!==salla.config.currency.code)return e=window.location.href,salla.currency.api.change(this.currency.code)})).then((()=>{this.language&&this.language.code!==salla.config.language.code&&(e=this.language.url)})).then((()=>this.btn.stop())).then((()=>this.hide())).then((()=>e&&(window.location.href=e)))}render(){return(0,s.h)("salla-modal",{id:"salla-localization",class:"hidden",ref:e=>this.modal=e},(0,s.h)("slot",{name:"header"},(0,s.h)("div",{slot:"header"})),(0,s.h)("div",{class:"s-localization-inner"},salla.config.languages?(0,s.h)("div",{class:"s-localization-section"},(0,s.h)("label",{class:"s-localization-title"},salla.lang.get("common.titles.language")),(0,s.h)("fieldset",{class:"s-localization-fieldset"},(0,s.h)("legend",{class:"sr-only"},salla.lang.get("blocks.header.change_language")),(0,s.h)("div",{class:"s-localization-section-inner"},salla.config.languages.map((e=>(0,s.h)("div",{class:"flex items-center"},(0,s.h)("input",{class:"s-localization-input",checked:salla.config.language.code==e.code,onChange:()=>this.setCurrentLanguage(e),id:"lang-"+e.code.toLowerCase(),name:"language",type:"radio",value:e.code}),(0,s.h)("label",{htmlFor:"lang-"+e.code.toLowerCase(),class:"s-localization-label"},(0,s.h)("span",null,e.name),(0,s.h)("div",{class:"s-localization-flag flag iti__flag iti__"+e.country_code})))))))):"",salla.config.currencies?(0,s.h)("div",{class:"s-localization-section"},(0,s.h)("label",{class:"s-localization-title"},salla.lang.get("common.titles.currency")),(0,s.h)("fieldset",{class:"s-localization-fieldset"},(0,s.h)("legend",{class:"sr-only"},salla.lang.get("blocks.header.change_currency")),(0,s.h)("div",{class:"s-localization-section-inner"},salla.config.currencies.map((e=>(0,s.h)("div",{class:"s-localization-item"},(0,s.h)("input",{class:"s-localization-input",checked:salla.config.currency.code==e.code,onChange:()=>this.setCurrentCurrency(e),id:"currency-"+e.code,name:"currency",type:"radio",value:e.code}),(0,s.h)("label",{class:"s-localization-label",htmlFor:"currency-"+e.code},(0,s.h)("span",null,e.name),(0,s.h)("small",{class:"s-localization-currency"},e.code)))))))):""),(0,s.h)("p",{slot:"footer"},(0,s.h)("slot",{name:"footer"},(0,s.h)("salla-button",{ref:e=>this.btn=e,onClick:()=>this.submit(),class:"w-full"},salla.lang.get("common.elements.ok")))))}get host(){return(0,s.g)(this)}}}}]);