"use strict";(self.webpackChunkTheme_One=self.webpackChunkTheme_One||[]).push([[763],{763:(e,a,l)=>{l.r(a),l.d(a,{salla_currency_language:()=>c});var s=l(959),n=l(602);const c=class{constructor(e){(0,s.r)(this,e),n.H.setHost(this.host)}async show(){this.modal.setAttribute("visible","")}async hide(){this.modal.removeAttribute("visible")}submit(){this.hide().then((()=>{let e=n.H.val("[name=currency]:checked");if(e!==salla.config.currency.code)return salla.currency.api.change(e)})).then((()=>{let e=n.H.val("[name=lang]:checked");e!==salla.config.language.code&&(window.location.href=salla.config.languages.filter((a=>a.code===e))[0].url)}))}render(){return(0,s.h)("salla-modal",{id:"lang-currency-modal",class:"hidden"},(0,s.h)("slot",{name:"header"},(0,s.h)("div",{slot:"header"})),(0,s.h)("div",{class:"s-currency-language-inner"},salla.config.languages?(0,s.h)("div",{class:"s-currency-language-section"},(0,s.h)("label",{class:"s-currency-language-title"},salla.lang.get("common.titles.language")),(0,s.h)("fieldset",{class:"s-currency-language-fieldset"},(0,s.h)("legend",{class:"sr-only"},salla.lang.get("blocks.header.change_language")),(0,s.h)("div",{class:"s-currency-language-section-inner"},salla.config.languages.map((e=>(0,s.h)("div",{class:"flex items-center"},(0,s.h)("input",{id:"lang-"+e.code.toLowerCase(),class:"s-currency-language-input",name:"lang",checked:salla.config.language.code==e.code,type:"radio",value:e.code}),(0,s.h)("label",{htmlFor:"lang-"+e.code.toLowerCase(),class:"s-currency-language-label"},(0,s.h)("span",null,e.name),(0,s.h)("div",{class:"s-currency-language-flag flag iti__flag iti__"+e.country_code})))))))):"",salla.config.currencies?(0,s.h)("div",{class:"s-currency-language-section"},(0,s.h)("label",{class:"s-currency-language-title"},salla.lang.get("common.titles.currency")),(0,s.h)("fieldset",{class:"s-currency-language-fieldset"},(0,s.h)("legend",{class:"sr-only"},salla.lang.get("blocks.header.change_currency")),(0,s.h)("div",{class:"s-currency-language-section-inner"},salla.config.currencies.map((e=>(0,s.h)("div",{class:"s-currency-language-item"},(0,s.h)("input",{class:"s-currency-language-input",checked:salla.config.currency.code==e.code,id:"currency-"+e.code,name:"currency",type:"radio",value:e.code}),(0,s.h)("label",{class:"s-currency-language-label",htmlFor:"currency-"+e.code},(0,s.h)("span",null,e.name),(0,s.h)("small",{class:"s-currency-language-currency"},e.code)))))))):""),(0,s.h)("p",{slot:"footer"},(0,s.h)("slot",{name:"footer"},(0,s.h)("button",{type:"button",class:"s-currency-language-submit",onClick:()=>this.submit()},salla.lang.get("common.elements.ok")))))}componentDidRender(){this.modal=document.querySelector("#lang-currency-modal")}get host(){return(0,s.g)(this)}}},602:(e,a,l)=>{l.d(a,{H:()=>n});class s extends salla.AppHelpers{setHost(e){this.host=e}getElement(e){return this.host.querySelector(e)}getAttribute(e,a){var l;return null===(l=this.getElement(e))||void 0===l?void 0:l.getAttribute(a)}val(e){return this.getAttribute(e,"value")}}const n=new s}}]);