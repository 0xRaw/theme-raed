(self.webpackChunkTheme_One=self.webpackChunkTheme_One||[]).push([[541],{562:(t,e,s)=>{"use strict";s.d(e,{H:()=>r});class i extends salla.AppHelpers{setHost(t){this.host=t}getElement(t){return this.host.querySelector(t)}getAttribute(t,e){var s;return null===(s=this.getElement(t))||void 0===s?void 0:s.getAttribute(e)}val(t){return this.getAttribute(t,"value")}isUser(){return!!salla.config.is_user}}const r=new i},541:(t,e,s)=>{"use strict";s.r(e),s.d(e,{multi_warehouse:()=>h,salla_button:()=>c,salla_login:()=>o,salla_modal:()=>d});var i=s(531),r=s(562);const o=class{constructor(t){(0,i.r)(this,t)}render(){return(0,i.h)("salla-modal",{id:"salla-login",title:"سجل دخول إلى الموقع"},(0,i.h)("div",{id:"showLoginMethods"},(0,i.h)("p",{class:"text-sm text-gray-text mb-5"},"اختر الوسيلة المناسبة"),(0,i.h)("div",{id:"openEmailLogin",class:"mb-2.5 box-content relative rounded-md border border-border-color bg-white py-5 pe-4 ps-5 flex items-center space-s-3 hover:border-gray-200"},(0,i.h)("div",{class:"flex-shrink-0"},(0,i.h)("div",{class:"bg-primary w-12 h-12 text-lg text-white rounded-icon"},(0,i.h)("i",{class:"sicon-mail"}))),(0,i.h)("div",{class:"flex-1 min-w-0"},(0,i.h)("a",{href:"#",class:"focus:outline-none flex justify-between items-center"},(0,i.h)("div",{class:"flex-1"},(0,i.h)("span",{class:"absolute inset-0","aria-hidden":"true"}),(0,i.h)("p",{class:"text-sm text-gray-text"},"سجل دخول"),(0,i.h)("h6",{class:"font-boldf"},"البريد الإلكتروني")),(0,i.h)("i",{class:"sicon-keyboard_arrow_left text-primary text-xl"})))),(0,i.h)("div",{class:"box-content relative rounded-md border border-border-color bg-white py-5 pe-4 ps-5 flex items-center space-s-3 hover:border-gray-200"},(0,i.h)("div",{class:"flex-shrink-0"},(0,i.h)("div",{class:"bg-primary w-12 h-12 text-lg text-white rounded-icon"},(0,i.h)("i",{class:"sicon-phone"}))),(0,i.h)("div",{class:"flex-1 min-w-0"},(0,i.h)("a",{href:"#",class:"focus:outline-none flex justify-between items-center"},(0,i.h)("div",{class:"flex-1"},(0,i.h)("span",{class:"absolute inset-0","aria-hidden":"true"}),(0,i.h)("p",{class:"text-sm text-gray-text"},"سجل دخول"),(0,i.h)("h6",{class:"font-boldf"},"الهاتف")),(0,i.h)("i",{class:"sicon-keyboard_arrow_left text-primary text-xl"}))))))}};let a=s(195),n=s(855),l=a.createStore(n);const h=class{constructor(t){(0,i.r)(this,t),this.open=!1,this.isOpenedBefore=l.get("multi-warehouse-opened-before"),this.displayAs="default",this.browseProductsFrom="all",this.branches=[{id:1,name:"فرع الرياض",open:!0,available:!0,limited:!1,tag:"متوفر"},{id:2,name:"فرع جدة",open:!1,available:!1,limited:!1,tag:"غير متوفر"},{id:3,name:"فرع مكة",open:!0,available:!0,limited:!1,tag:"متوفر"},{id:4,name:"فرع المدينة",open:!0,available:!0,limited:!1,tag:"متوفر"},{id:5,name:"فرع جازان",open:!0,available:!0,limited:!0,tag:"الكمية محدودة"}],this.current=1,this.currentBranch=t=>this.branches.filter((t=>t.id==this.current))[0][t],this.statusColor=(t=null)=>t?t.limited?"text-red-400":t.available?"text-green-500":"text-gray-400":this.currentBranch("limited")?"text-red-400":this.currentBranch("available")?"text-green-500":"text-gray-400",this.isChoiceable=()=>"all"!==this.browseProductsFrom&&"single"==this.position||"header"==this.position,this.formTitle=()=>this.isChoiceable()?"توفر المنتج في الفروع الآخرى":"التسوق من فرع آخر",salla.event.on("branches::show",(()=>this.show()))}async show(){return this.modal.show()}async hide(){return this.modal.hide()}handelChange(t){this.selected=t.target.value}handleSubmit(){this.btn.load().then((()=>{setTimeout((()=>location.reload()),2e3)})),l.set("multi-warehouse-opened-before",!0),this.show(),setTimeout((()=>{this.current=this.selected}),300)}render(){return(0,i.h)("salla-modal",{icon:"sicon-store-alt",title:"فرع الرياض","sub-title":"أنت الآن تتصفح المتجر من","is-closable":this.isOpenedBefore||"popup"!=this.displayAs?"true":"false",ref:t=>this.modal=t,"modal-width":"w-116",id:"s-multi-warehouse-modal",class:"hidden"},(0,i.h)("div",{class:"text-right"},(0,i.h)("fieldset",{class:"mt-4"},(0,i.h)("h4",{class:"text-sm text-gray-600 mb-6"},this.formTitle()),(0,i.h)("legend",{class:"sr-only"},this.formTitle()),this.branches.length<=5?(0,i.h)("div",{class:"space-y-5"},this.branches.map((t=>(0,i.h)("div",{class:"flex items-center"},(0,i.h)("input",{id:this.position+"_branch_"+t.id,disabled:!t.open&&this.isChoiceable(),name:"lang",type:"radio",value:t.id,onChange:t=>this.handelChange(t),class:{"me-3 focus:ring-primary h-4 w-4 text-primary border-gray-300":!0,"opacity-50":!t.open,hidden:!this.isChoiceable()},checked:this.current==t.id}),(0,i.h)("label",{htmlFor:this.position+"_branch_"+t.id,class:{"flex items-center justify-between text-sm font-medium text-gray-700 flex-grow":!0,"cursor-pointer":this.isChoiceable()}},(0,i.h)("span",{class:{"opacity-50":!t.open}},t.name),this.isChoiceable()?(0,i.h)("small",{class:"text-red-400"},t.open?"":"مُغلق"):(0,i.h)("span",{class:this.statusColor(t)},t.tag)))))):(0,i.h)("select",{class:"w-full h-10 transition-colors duration-300 focus:ring-transparent focus:border-primary sm:text-sm border-gray-200 rounded-md appearance-none visibility_condition px-4",onInput:t=>this.handelChange(t)},this.branches.map((t=>(0,i.h)("option",{value:t.id,disabled:!t.open,selected:this.selected==t.id},t.name," ",t.open?"":"- مُغلق")))))),this.isChoiceable()?(0,i.h)("div",{slot:"footer",class:"mt-6"},(0,i.h)("slot",{name:"footer"},(0,i.h)("salla-button",{"loader-position":"before",ref:t=>this.btn=t,onClick:()=>this.handleSubmit(),class:"w-full"},salla.lang.get("common.elements.ok")))):"")}componentDidRender(){this.isOpenedBefore||"popup"!=this.displayAs||this.show()}get host(){return(0,i.g)(this)}};h.style="#s-multi-warehouse-modal .s-modal-header{display:flex;flex-direction:column;margin-bottom:40px}#s-multi-warehouse-modal .s-modal-sub-title{margin:0}#s-multi-warehouse-modal .s-modal-title{order:10}";const c=class{constructor(t){(0,i.r)(this,t),this.btnStyle="primary",this.loading=!1,this.disabled=!1,this.loaderPosition="before",this.hostAttributes={};for(let t=0;t<this.host.attributes.length;t++)this.hostAttributes[this.host.attributes[t].name]=this.host.attributes[t].value;this.hostAttributes.type=this.hostAttributes.type||"button",this.hostAttributes.class=(this.hostAttributes.class||"")+" s-button-btn btn--has-loading btn-"+this.btnStyle+" loader-"+this.loaderPosition,this.hostAttributes.class+="before"==this.loaderPosition?" flex-row-reverse":"",delete this.hostAttributes["btn-style"],delete this.hostAttributes.id}async load(){return"center"==this.loaderPosition&&this.host.querySelector(".btn-text").classList.add("opacity-0"),this.host.setAttribute("loading",""),this.host}async stop(){return this.host.removeAttribute("loading"),this.host}async disable(){this.host.setAttribute("disabled","")}async enable(){this.host.removeAttribute("disabled")}handleVisible(t,e){this.btn.classList.remove("btn-"+e),this.btn.classList.add("btn-"+t)}handleLoading(t){r.H.toggleElement(this.btn,"btn--is-loading","btn--no-loading",(()=>t))}render(){return(0,i.h)("button",Object.assign({ref:t=>this.btn=t,disabled:this.disabled},this.hostAttributes),(0,i.h)("span",{class:"btn-text transition-opacity duration-300"},(0,i.h)("slot",null)),this.loading?(0,i.h)("span",{class:{"loader loader--small s-button-loader":!0,"absolute right-2":"start"===this.loaderPosition,"absolute left-2":"end"===this.loaderPosition,"absolute top-1/2 left-1/2 !-translate-x-1/2 !-translate-y-1/2 !m-0":"center"===this.loaderPosition}}):"")}get host(){return(0,i.g)(this)}static get watchers(){return{btnStyle:["handleVisible"],loading:["handleLoading"]}}};c.style=":host{display:block}";const d=class{constructor(t){(0,i.r)(this,t),this.ready=(0,i.c)(this,"ready",7),this.close=(0,i.c)(this,"close",7),this.error=!1,this.success=!1,this.isClosable=!0,this.modalWidth="w-96",this.visible=!1,this.subTitle="",this.icon="",salla.event.on("modal::open",(t=>t.dataset.target==this.host.id&&this.show())),salla.event.on("modal::close",(t=>t.dataset.target==this.host.id&&this.hide())),this.title=this.host.title,this.host.removeAttribute("title")}handleVisible(t){if(!t)return this.toggleModal(!1),void this.close.emit();this.host.classList.remove("hidden"),setTimeout((()=>this.toggleModal(!0))),this.ready.emit()}async show(){return this.host.setAttribute("visible",""),this.host}async hide(){return this.host.removeAttribute("visible"),this.host}async setTitle(t){return this.title=t,this.host}toggleModal(t){r.H.toggleElement(this.host.querySelector(".s-modal-overlay"),"ease-out duration-300 opacity-100","opacity-0",(()=>t)).toggleElement(this.host.querySelector(".s-modal-body"),"ease-out duration-300 opacity-100 translate-y-0 sm:scale-100","opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",(()=>t)).toggleElement(document.body,"modal-is-open","modal-is-closed",(()=>t)),t||setTimeout((()=>this.host.classList.add("hidden")),350)}closeModal(){this.isClosable&&this.host.removeAttribute("visible")}render(){return this.host.id=this.host.id||"salla-modal",(0,i.h)(i.H,{class:"s-modal-container hidden","aria-modal":"true",role:"dialog"},(0,i.h)("div",{class:"s-modal-wrapper"},(0,i.h)("div",{class:"s-modal-overlay",onClick:()=>this.closeModal()}),(0,i.h)("span",{class:"s-modal-spacer"},"​"),(0,i.h)("div",{class:"s-modal-body "+this.modalWidth},(0,i.h)("div",{class:{"s-modal-header":!0,"text-center":""!=this.icon}},this.isClosable?(0,i.h)("button",{class:"s-modal-close cursor-pointer",onClick:()=>this.closeModal(),type:"button"},(0,i.h)("span",{class:"sicon-cancel"})):"",this.error||this.success||this.icon?(0,i.h)("div",{class:{"s-modal-icon":!0,"s-modal-bg-error":this.error,"s-modal-bg-success":this.success,"s-modal-bg-normal":!this.error&&!this.success}},(0,i.h)("i",{class:{[this.icon]:!0,"s-modal-text-error":this.error,"s-modal-text-success":this.success}})):"",(0,i.h)("div",{class:"s-modal-title",innerHTML:this.title}),(0,i.h)("p",{class:"s-modal-sub-title",innerHTML:this.subTitle})),(0,i.h)("slot",null),(0,i.h)("slot",{name:"footer"}))))}get host(){return(0,i.g)(this)}static get watchers(){return{visible:["handleVisible"]}}}},195:(t,e,s)=>{var i=s(78),r=i.slice,o=i.pluck,a=i.each,n=i.bind,l=i.create,h=i.isList,c=i.isFunction,d=i.isObject;t.exports={createStore:m};var u={version:"2.0.12",enabled:!1,get:function(t,e){var s=this.storage.read(this._namespacePrefix+t);return this._deserialize(s,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each((function(s,i){t.call(e,e._deserialize(s),(i||"").replace(e._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return m.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return m(this.storage,this.plugins,t)}};function m(t,e,s){s||(s=""),t&&!h(t)&&(t=[t]),e&&!h(e)&&(e=[e]);var i=s?"__storejs_"+s+"_":"",m=s?new RegExp("^"+i):null;if(!/^[a-zA-Z0-9_\-]*$/.test(s))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var b={_namespacePrefix:i,_namespaceRegexp:m,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var s=t.read(e)===e;return t.remove(e),s}catch(t){return!1}},_assignPluginFnProp:function(t,e){var s=this[e];this[e]=function(){var e=r(arguments,0),i=this;function o(){if(s)return a(arguments,(function(t,s){e[s]=t})),s.apply(i,e)}var n=[o].concat(e);return t.apply(i,n)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var s="";try{s=JSON.parse(t)}catch(e){s=t}return void 0!==s?s:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(h(t))a(t,(function(t){e._addPlugin(t)}));else if(!o(this.plugins,(function(e){return t===e}))){if(this.plugins.push(t),!c(t))throw new Error("Plugins must be function values that return objects");var s=t.call(this);if(!d(s))throw new Error("Plugins must return an object of function properties");a(s,(function(s,i){if(!c(s))throw new Error("Bad plugin property: "+i+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(s,i)}))}},addStorage:function(t){!function(){var t="undefined"==typeof console?null:console;t&&(t.warn?t.warn:t.log).apply(t,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},p=l(b,u,{plugins:[]});return p.raw={},a(p,(function(t,e){c(t)&&(p.raw[e]=n(p,t))})),a(t,(function(t){p._addStorage(t)})),a(e,(function(t){p._addPlugin(t)})),p}},78:(t,e,s)=>{var i=Object.assign?Object.assign:function(t,e,s,i){for(var r=1;r<arguments.length;r++)l(Object(arguments[r]),(function(e,s){t[s]=e}));return t},r=function(){if(Object.create)return function(t,e,s,r){var o=n(arguments,1);return i.apply(this,[Object.create(t)].concat(o))};{function t(){}return function(e,s,r,o){var a=n(arguments,1);return t.prototype=e,i.apply(this,[new t].concat(a))}}}(),o=String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},a="undefined"!=typeof window?window:s.g;function n(t,e){return Array.prototype.slice.call(t,e||0)}function l(t,e){h(t,(function(t,s){return e(t,s),!1}))}function h(t,e){if(c(t)){for(var s=0;s<t.length;s++)if(e(t[s],s))return t[s]}else for(var i in t)if(t.hasOwnProperty(i)&&e(t[i],i))return t[i]}function c(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}t.exports={assign:i,create:r,trim:o,bind:function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}},slice:n,each:l,map:function(t,e){var s=c(t)?[]:{};return h(t,(function(t,i){return s[i]=e(t,i),!1})),s},pluck:h,isList:c,isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isObject:function(t){return t&&"[object Object]"==={}.toString.call(t)},Global:a}},855:(t,e,s)=>{var i=s(78).Global;function r(){return i.sessionStorage}function o(t){return r().getItem(t)}t.exports={name:"sessionStorage",read:o,write:function(t,e){return r().setItem(t,e)},each:function(t){for(var e=r().length-1;e>=0;e--){var s=r().key(e);t(o(s),s)}},remove:function(t){return r().removeItem(t)},clearAll:function(){return r().clear()}}}}]);