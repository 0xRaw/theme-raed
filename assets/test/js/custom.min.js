var filtersMenuItem,headerWrapper,headerContent,headerHeight;const menu=new MmenuLight(document.querySelector("#mobile-menu"),"(max-width: 1024px)","( slidingSubmenus: false)"),navigator=menu.navigation({title:"التصنيفات"}),drawer=menu.offcanvas({position:"right"});if(document.querySelector("a[href='#mobile-menu']").addEventListener("click",a=>{a.preventDefault(),drawer.close(),drawer.open()}),filtersMenuItem=document.getElementById('filters-menu'),filtersMenuItem){const b=new MmenuLight(document.querySelector("#filters-menu"),"(max-width: 1024px)","( slidingSubmenus: false)"),a=b.offcanvas({position:"right"});document.querySelector("a[href='#filters-menu']").addEventListener("click",b=>{b.preventDefault(),a.close(),a.open()}),document.querySelectorAll(".close-mobile-menu").forEach(b=>{b.addEventListener("click",b=>{b.preventDefault(),a.close()})})}document.querySelectorAll(".close-mobile-menu").forEach(a=>{a.addEventListener("click",a=>{a.preventDefault(),drawer.close()})}),headerWrapper=document.getElementById('site-header-outer'),headerContent=document.querySelector('.site-header'),headerHeight=headerContent.clientHeight,window.addEventListener('resize',function(){headerHeight=headerContent.clientHeight,headerWrapper.style.height=headerHeight+'px'}),window.addEventListener('scroll',function(){var b=headerWrapper.offsetTop,a=window.scrollY;a>=b+headerHeight?headerWrapper.classList.add('fixed-pinned','animated'):headerWrapper.classList.remove('fixed-pinned'),a>=200?headerWrapper.classList.add('fixed-header'):headerWrapper.classList.remove('fixed-header','animated')},{passive:!0}),document.addEventListener('DOMContentLoaded',function(){flatpickr('#productCalendar',{enableTime:!0,dateFormat:"Y-m-d H:i"})}),document.addEventListener('DOMContentLoaded',function(){flatpickr('#receiveTime',{enableTime:!0,noCalendar:!0,dateFormat:"H:i"})}),document.addEventListener('DOMContentLoaded',function(){var a=document.getElementsByClassName('details-slider'),b,c;a.length>0&&(b=new Swiper(".thumbs-slider",{spaceBetween:10,slidesPerView:3,freeMode:!0,watchSlidesProgress:!0}),c=new Swiper('.details-slider',{centeredSlides:!0,spaceBetween:30,navigation:{nextEl:'.swiper-button-next',prevEl:'.swiper-button-prev'},thumbs:{swiper:b}}));let d=document.querySelectorAll('.go-to-slide');d.forEach(a=>{let b=a.dataset.slideindex;a.addEventListener('click',function(a){c.slideTo(b,0)})})});const initTelInput=()=>{const a=document.querySelectorAll('.tel-input');a.length&&a.forEach(a=>{let b=intlTelInput(a,{initialCountry:a.dataset.code||'sa',preferredCountries:['sa','ae','kw','bh','qa','iq','om','ye','eg','jo','sy','ps','sd','lb','dz','tn','ma','ly'],formatOnDisplay:!1,separateDialCode:!0,autoPlaceholder:'aggressive',utilsScript:'https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/js/utils.min.js'});a.addEventListener("countrychange",()=>{let a=b.getSelectedCountryData();document.querySelectorAll('.country_code').forEach(b=>b.value=a.iso2.toUpperCase()),document.querySelectorAll('.country_key').forEach(b=>{b.value=('+'+a.dialCode).replace('++','+')})})})};initTelInput(),window.addTocartAnimation=l=>{document.querySelectorAll('.cart-thumb').length&&document.querySelectorAll('.cart-thumb').forEach(a=>{a.remove()});let d=document.querySelector('#main-cart-btn .cart-icon'),j=d.getBoundingClientRect(),a=j.top+window.scrollY,e=j.left+window.scrollX,o=document.getElementById('product_'+l),b=o.getElementsByTagName('img')[0],i=b.getBoundingClientRect(),n=b.offsetWidth+'px',m=b.offsetHeight+'px',k=i.top,h=i.left,g=document.getElementById('site-header-outer').classList.contains('fixed-header'),c=document.createElement("img");c.src=b.getAttribute('src'),c.className="cart-thumb",c.style="object-fit:cover; width:"+n+'; height:'+m+'; top:'+k+'px; left:'+h+'px;',document.body.append(c);const f=document.querySelector('.cart-thumb');d.classList.remove('animated','rubberBand');let p=new anime.timeline;p.add({targets:f,width:[150,30],height:[150,30],top:[k,g?-20:window.scrollY>0?a-window.scrollY-40:a-40],left:[h,e],borderRadius:['20%','50%'],easing:'easeOutExpo',duration:1200},'+=200').add({targets:f,width:[30,0],height:[30,0],opacity:[1,0],easing:'easeOutExpo',top:[g?-20:window.scrollY>0?a-window.scrollY-40:a-40,g?30:window.scrollY>0?a-window.scrollY+10:a+10],left:[e,e+10]},'-=500').add({complete:function(){d.classList.add('animated','rubberBand'),f.remove()}},'-=1700')}